{
  "buildDir": "serverless",
  "nodes": [
	{
	  "dir": "s3",
	  "outputs": {
		"cfDist": "!Ref WebsiteDistribution"
	  }
	},
	{
	  "dir": "vpc",
	  "outputs": {
		"vpcId": "!Ref VPC",
		"vpcPrivateSubnetA": "!Ref PrivateSubnetA",
		"vpcPrivateSubnetB": "!Ref PrivateSubnetB",
		"ServerlessSecurityGroup": {
		  "Fn::GetAtt": [
			"ServerlessSecurityGroup",
			"GroupId"
		  ]
		}
	  }
	},
	{
	  "dir": "aurora",
	  "outputs": {
		"postgresHost": {
		  "Fn::GetAtt": [
			"AuroraRDSInstance",
			"Endpoint.Address"
		  ]
		},
		"postgresPort": {
		  "Fn::GetAtt": [
			"AuroraRDSInstance",
			"Endpoint.Port"
		  ]
		}
	  }
	},
	{
	  "dir": "cognito",
	  "outputsSitePrefix": true,
	  "outputs": {
		"cognitoPoolId": "!Ref CognitoUserPool",
		"poolClientId": "!Ref CognitoUserPoolClient"
	  }

	},
	{
	  "dir": "ws",
	  "outputsSitePrefix": true,
	  "outputs": {
		"websocket": "!Ref WebsocketsApi"
	  },
	  "functions": [
		"ws-api.js",
		"database.js",
		"load_methods.js",
		"timing.js"
	  ]
	},
	{
	  "dir": "cloudfront",
	  "outputsSitePrefix": true,
	  "outputs": {
		"cfDist": "!Ref WebsiteDistribution"
	  }

	},
	{
	  "dir": "events",
	  "outputsSitePrefix": true,
	  "outputs": {

	  },
	  "functions": [
		"incoming.js"
	  ]
	}
  ]
}

